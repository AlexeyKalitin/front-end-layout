(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{23:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){t.exports={input:"Input_input__2mABs",todo__text:"Input_todo__text__2VKhO"}},27:function(t,e,n){t.exports={"filter__arrow-active":"filter_filter__arrow-active__1CJ4a","filter__arrow-down":"filter_filter__arrow-down__2AjvG",filter__button:"filter_filter__button__1m8_4","filter__button-active":"filter_filter__button-active__2x_pW","sortBy-text":"filter_sortBy-text__3blXO","filter__arrow-up":"filter_filter__arrow-up__15XdD",filter:"filter_filter__1Rtgh","filter-sort":"filter_filter-sort__14E_z"}},28:function(t,e,n){t.exports={paginate__button:"Paginate_paginate__button__2oRGJ","paginate__button-active":"Paginate_paginate__button-active__1H2qi",paginate:"Paginate_paginate__3owsP"}},29:function(t,e,n){t.exports={"todo-list":"TodoList_todo-list__4vVRj"}},30:function(t,e,n){t.exports={"todo-list__input":"TodoElement_todo-list__input__8vt4n",todo:"TodoElement_todo__tC1Ag","todo-list__input-error":"TodoElement_todo-list__input-error__34YHg","todo-list__button":"TodoElement_todo-list__button__1ew_7","todo-list__text":"TodoElement_todo-list__text__3dL6a","todo-list__date":"TodoElement_todo-list__date__1ioTQ","todo-list__trashbin":"TodoElement_todo-list__trashbin__1vll4"}},50:function(t,e,n){"use strict";n.r(e);var o=n(1),c=n.n(o),a=n(18),i=n.n(a),r=(n(23),n(8)),s=n(2),l=(n(24),n(25),n(0));var u=function(t){var e=t.newElemSetter,n=t.nonExistYet,c=Object(o.useState)(""),a=Object(s.a)(c,2),i=a[0],r=a[1],u=new Date,_=function(t){r(t.replace(/[\u0410-\u042f\u0430-\u044f]/g,""))};return Object(l.jsx)("div",{className:"input",children:Object(l.jsx)("input",{onKeyDown:function(t){if(" "!==i[0]&&""!==i&&i.length>2&&n(i)&&"Enter"===t.key){console.log(i);var o={key:u.getTime(),name:i,done:!1,updatedAt:"".concat(u.getFullYear(),"-").concat(u.getMonth()+1,"-").concat(u.getDay()+24," ").concat(u.getHours(),":").concat(u.getMinutes(),":").concat(u.getSeconds())};r(""),e(o)}},value:i,onChange:function(t){_(t.target.value)},placeholder:"Type task",autoFocus:!0,maxLength:"16",className:"todo__text"})})},_=(n(27),n.p+"static/media/arrowup.d526aa02.svg"),d=n.p+"static/media/arrowdown.37fca0e1.svg";var j=function(t){var e=t.text,n=t.setActiveFilterSort,o=t.activeFilterSort;return Object(l.jsx)("button",{onClick:function(){n(e)},className:o===e?"filter__button-active":"filter__button",children:e})};var b=function(t){var e=t.setSortStatus,n=Object(o.useState)("all"),c=Object(s.a)(n,2),a=c[0],i=c[1],r=Object(o.useState)("asc"),u=Object(s.a)(r,2),b=u[0],f=u[1];Object(o.useEffect)((function(){e(a,b)}),[a,b]);var O=Object(l.jsx)("button",{onClick:function(){f("desc")},className:"filter__arrow-down",children:Object(l.jsx)("img",{alt:"arrowdown",src:d})}),g=Object(l.jsx)("button",{onClick:function(){f("asc")},className:"filter__arrow-up",children:Object(l.jsx)("img",{alt:"arrowup",src:_})});return Object(l.jsxs)("span",{className:"filter",children:[Object(l.jsxs)("span",{className:"filter-buttons",children:[Object(l.jsx)(j,{text:"all",setActiveFilterSort:i,activeFilterSort:a}),Object(l.jsx)(j,{text:"done",setActiveFilterSort:i,activeFilterSort:a}),Object(l.jsx)(j,{text:"undone",setActiveFilterSort:i,activeFilterSort:a})]}),Object(l.jsxs)("span",{className:"filter-sort",children:[Object(l.jsx)("p",{className:"sortBy-text",children:"Sort by Date"}),O,g]})]})};n(28);var f=function(t){for(var e=t.setCurrentPage,n=t.currentPage,o=t.countTodoElem,c=t.countElemPerPage,a=[],i=[],s=o/c,u=1;u<s+1;u++)a.push(u);i=a.slice(0),(o-1)/c<n&&n>0&&e(n-1),s>9&&(i=a.slice(0,2).concat(a.slice(n-1,n+2)).concat(a.slice(-3,-1)).concat(a[a.length-1]).sort((function(t,e){return t-e})),i=Object(r.a)(new Set(i)));var _=i.map((function(t){return a.length>1?Object(l.jsx)("div",{className:"paginate__button",children:Object(l.jsx)("button",{className:t-1===n?"paginate__button paginate__button-active":"paginate__button",onClick:function(){return function(t){e(t-1)}(t)},children:t})},t):Object(l.jsx)("div",{},t)}));return Object(l.jsxs)("div",{className:"paginate",children:[Object(l.jsx)("div",{className:"paginate__button",children:Object(l.jsx)("button",{className:"paginate__button",onClick:function(){n>0&&e(n-1)},children:"Prev"})}),_,Object(l.jsx)("div",{className:"paginate__button",children:Object(l.jsx)("button",{className:"paginate__button",onClick:function(){s-1>n&&e(n+1)},children:"Next"})})]})},O=(n(29),n(30),n.p+"static/media/undone.244b6687.svg"),g=n.p+"static/media/trash.1129c53a.svg",m=n.p+"static/media/icon.6a318b8d.svg";var p=function(t){var e=t.todo,n=t.removeTodo,c=t.changeTodoCondition,a=t.changeTask,i=Object(o.useState)(!1),r=Object(s.a)(i,2),u=r[0],_=r[1],d=Object(o.useState)(""),j=Object(s.a)(d,2),b=j[0],f=j[1],p=function(t){f(t.replace(/[\u0410-\u042f\u0430-\u044f]/g,""))},v=Object(l.jsx)("input",{onBlur:function(){_(!1)},autoFocus:!0,maxLength:"16",defaultValue:e.name,onKeyDown:function(t){t.target.className="todo-list__input"," "!==b[0]&&""!==b&&b.length>2?("Enter"===t.key&&(a(e,b),_(!1)),"Escape"===t.key&&_(!1)):t.target.className="todo-list__input-error"},onChange:function(t){p(t.target.value)},value:b,className:"todo-list__input"}),x=Object(l.jsx)("button",{onClick:function(){return c(e)},title:"done",className:"todo-list__button",children:Object(l.jsx)("img",{alt:"undone",src:!1===e.done?O:m,className:"todo-list__picture"})}),h=Object(l.jsx)("button",{onClick:function(){return n(e)},title:"delete",className:"todo-list__trashbin",children:Object(l.jsx)("img",{alt:"delete",src:g})});return Object(l.jsxs)("li",{children:[x,Object(l.jsx)("span",{onClick:function(){_(!0),f(e.name)},className:"todo-list__text",children:u?v:Object(l.jsx)("p",{children:e.name})}),Object(l.jsx)("p",{className:"todo-list__date",children:e.updatedAt.replace(/[A-Z]|(\.\d{3})/g," ")}),h]},e.key)};var v=function(t){var e=t.todos,n=t.removeTodo,o=t.changeTodoCondition,c=t.changeTask;return 0===e.length?Object(l.jsx)("h1",{style:{marginTop:"2vw"},children:"Nothing..."}):Object(l.jsx)("ul",{className:"todo-list",children:e.map((function(t,e){return Object(l.jsx)(p,{todo:t,removeTodo:n,changeTodoCondition:o,changeTask:c},e)}))})},x=n(31).default,h=Object({NODE_ENV:"production",PUBLIC_URL:"/front-end-layout",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLIENT_ID,T="https://todo-api-learning.herokuapp.com/v1";var S=function(){var t=Object(o.useState)(!1),e=Object(s.a)(t,2),n=e[0],c=e[1],a=Object(o.useState)(!1),i=Object(s.a)(a,2),_=i[0],d=i[1],j=Object(o.useState)([]),O=Object(s.a)(j,2),g=O[0],m=O[1],p=Object(o.useState)(0),S=Object(s.a)(p,2),N=S[0],E=S[1],w=Object(o.useState)(5),C=Object(s.a)(w,1)[0];Object(o.useEffect)((function(){c(!0),k("all","asc"),c(!1)}),[]);var k=function(t,e){c(!0),"all"===t&&(t=""),x.get("".concat(T,"/tasks/").concat(h,"?filterBy=").concat(t,"&order=").concat(e)).finally(c(!1)).then((function(t){m(t.data),c(!1)})).catch((function(t){y(t.message)}))},y=function(t){d(t),setTimeout((function(){return d(!1)}),5e3)},P=function(t,e,n){"done"===e&&(t.done=n),"name"===e&&(t.name=n)},F=function(t){x.patch("".concat(T,"/task/").concat(h,"/").concat(t.uuid),t).catch((function(t){y(t.message)}))},A=function(t){x.delete("".concat(T,"/task/").concat(h,"/").concat(t.uuid)).catch((function(t){y(t.message)}))},D=function(t){var e;e=t,x.post("".concat(T,"/task/").concat(h),e).then((function(t){e.uuid=t.data.uuid})).catch((function(t){y(t.message)})),m([].concat(Object(r.a)(g),[t]))},B=!1!==_&&Object(l.jsx)("div",{className:"alert-about-error",children:Object(l.jsx)("p",{children:_})}),L=Object(l.jsxs)("div",{className:"animated-loader",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]});return Object(l.jsxs)("div",{className:"conteiner",children:[B,Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"todo",children:[Object(l.jsx)("h1",{children:"ToDo"}),Object(l.jsx)(u,{newElemSetter:function(t){return D(t)},nonExistYet:function(t){return function(t){return g.every((function(e){return e.name!==t}))}(t)}})]}),Object(l.jsx)(b,{setSortStatus:function(t,e){return function(t,e){k(t,e)}(t,e)}})]}),n?L:Object(l.jsx)(v,{todos:g.slice(N*C,N*C+C),removeTodo:function(t){return A(e=t),void m(g.filter((function(t){return t!==e})));var e},changeTodoCondition:function(t){return function(t){P(t,"done",!t.done),g[g.indexOf(t)]=t,m(g.slice(0)),F(t)}(t)},changeTask:function(t,e){return function(t,e){P(t,"name",e.slice(0)),g[g.indexOf(t)]=t,m(g.slice(0)),F(t)}(t,e)}}),g.length>0&&Object(l.jsx)(f,{setCurrentPage:function(t){return E(t)},currentPage:N,countTodoElem:g.length,countElemPerPage:C})]})},N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),o(t),c(t),a(t),i(t)}))};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root")),N()}},[[50,1,2]]]);
//# sourceMappingURL=main.d2e7705c.chunk.js.map
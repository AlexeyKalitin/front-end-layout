(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){t.exports={input:"Input_input__2mABs",todo__text:"Input_todo__text__2VKhO"}},30:function(t,e,n){t.exports={"filter__arrow-active":"filter_filter__arrow-active__1CJ4a","filter__arrow-down":"filter_filter__arrow-down__2AjvG",filter__button:"filter_filter__button__1m8_4","sortBy-text":"filter_sortBy-text__3blXO","filter__arrow-up":"filter_filter__arrow-up__15XdD",filter:"filter_filter__1Rtgh","filter-sort":"filter_filter-sort__14E_z"}},31:function(t,e,n){t.exports={paginate__button:"Paginate_paginate__button__2oRGJ","paginate__button-active":"Paginate_paginate__button-active__1H2qi",paginate:"Paginate_paginate__3owsP"}},32:function(t,e,n){t.exports={"todo-list":"TodoList_todo-list__4vVRj"}},33:function(t,e,n){t.exports={"todo-list__input":"TodoElement_todo-list__input__8vt4n",todo:"TodoElement_todo__tC1Ag","todo-list__input-error":"TodoElement_todo-list__input-error__34YHg","todo-list__button":"TodoElement_todo-list__button__1ew_7","todo-list__text":"TodoElement_todo-list__text__3dL6a","todo-list__date":"TodoElement_todo-list__date__1ioTQ","todo-list__trashbin":"TodoElement_todo-list__trashbin__1vll4"}},53:function(t,e,n){"use strict";n.r(e);var o=n(1),c=n.n(o),a=n(20),r=n.n(a),i=(n(25),n(7)),s=n(4),u=n.n(s),l=n(5),d=n(2),_=(n(27),n(28),n(0));var f=function(t){var e=t.newElemSetter,n=t.nonExistYet,c=Object(o.useState)(""),a=Object(d.a)(c,2),r=a[0],i=a[1],s=new Date,u=function(t){i(t.replace(/[\u0410-\u042f\u0430-\u044f]/g,""))};return Object(_.jsx)("div",{className:"input",children:Object(_.jsx)("input",{onKeyDown:function(t){if(" "!==r[0]&&""!==r&&r.length>2&&n(r)&&"Enter"===t.key){console.log(r);var o={key:s.getTime(),name:r,done:!1,updatedAt:"".concat(s.getFullYear(),"-").concat(s.getMonth()+1,"-").concat(s.getDay()+24," ").concat(s.getHours(),":").concat(s.getMinutes(),":").concat(s.getSeconds())};i(""),e(o)}},value:r,onChange:function(t){u(t.target.value)},placeholder:"Type task",autoFocus:!0,maxLength:"16",className:"todo__text"})})},j=(n(30),n.p+"static/media/arrowup.d526aa02.svg"),b=n.p+"static/media/arrowdown.37fca0e1.svg";var p=function(t){var e=t.todosFilter,n=t.FilterSort,o=t.activeFilterSort,c=t.value,a=t.sortType;return Object(_.jsx)("button",{onClick:function(){e(c),n(a)},className:o===a?"filter__button-active":"filter__button",children:a})};var h=function(t){var e=t.todosFilter,n=t.setSortStatus,c=Object(o.useState)("all"),a=Object(d.a)(c,2),r=a[0],i=a[1],s=function(t){i(t)},u=Object(_.jsx)("button",{onClick:function(){n("desc",r)},className:"filter__arrow-down",children:Object(_.jsx)("img",{alt:"arrowdown",src:b})}),l=Object(_.jsx)("button",{onClick:function(){n("asc",r)},className:"filter__arrow-up",children:Object(_.jsx)("img",{alt:"arrowup",src:j})});return Object(_.jsxs)("span",{className:"filter",children:[Object(_.jsxs)("span",{className:"filter-buttons",children:[Object(_.jsx)(p,{todosFilter:e,FilterSort:s,activeFilterSort:r,value:"all",sortType:"all"}),Object(_.jsx)(p,{todosFilter:e,FilterSort:s,activeFilterSort:r,value:!0,sortType:"done"}),Object(_.jsx)(p,{todosFilter:e,FilterSort:s,activeFilterSort:r,value:!1,sortType:"undone"})]}),Object(_.jsxs)("span",{className:"filter-sort",children:[Object(_.jsx)("p",{className:"sortBy-text",children:"Sort by Date"}),u,l]})]})};n(31);var m=function(t){for(var e=t.setCurrentPage,n=t.currentPage,o=t.countTodoElem,c=t.countElemPerPage,a=[],r=[],s=o/c,u=1;u<s+1;u++)a.push(u);r=a.slice(0),(o-1)/c<n&&n>0&&e(n-1),s>9&&(r=a.slice(0,2).concat(a.slice(n-1,n+2)).concat(a.slice(-3,-1)).concat(a[a.length-1]).sort((function(t,e){return t-e})),r=Object(i.a)(new Set(r)));var l=r.map((function(t){return a.length>1?Object(_.jsx)("div",{className:"paginate__button",children:Object(_.jsx)("button",{className:t-1===n?"paginate__button paginate__button-active":"paginate__button",onClick:function(){return function(t){e(t-1)}(t)},children:t})},t):Object(_.jsx)("div",{},t)}));return Object(_.jsxs)("div",{className:"paginate",children:[Object(_.jsx)("div",{className:"paginate__button",children:Object(_.jsx)("button",{className:"paginate__button",onClick:function(){n>0&&e(n-1)},children:"Prev"})}),l,Object(_.jsx)("div",{className:"paginate__button",children:Object(_.jsx)("button",{className:"paginate__button",onClick:function(){s-1>n&&e(n+1)},children:"Next"})})]})},g=(n(32),n(33),n.p+"static/media/undone.244b6687.svg"),O=n.p+"static/media/trash.1129c53a.svg",x=n.p+"static/media/icon.6a318b8d.svg";var v=function(t){var e=t.todo,n=t.removeTodo,c=t.changeTodoCondition,a=t.changeTask,r=Object(o.useState)(!1),i=Object(d.a)(r,2),s=i[0],u=i[1],l=Object(o.useState)(""),f=Object(d.a)(l,2),j=f[0],b=f[1],p=function(t){b(t.replace(/[\u0410-\u042f\u0430-\u044f]/g,""))},h=Object(_.jsx)("input",{onBlur:function(){u(!1)},autoFocus:!0,maxLength:"16",defaultValue:e.name,onKeyDown:function(t){t.target.className="todo-list__input"," "!==j&&""!==j?("Enter"===t.key&&(a(e,j),u(!1)),"Escape"===t.key&&u(!1)):t.target.className="todo-list__input-error"},onChange:function(t){p(t.target.value)},value:j,className:"todo-list__input"}),m=Object(_.jsx)("button",{onClick:function(){return c(e)},title:"done",className:"todo-list__button",children:Object(_.jsx)("img",{alt:"undone",src:!1===e.done?g:x,className:"todo-list__picture"})}),v=Object(_.jsx)("button",{onClick:function(){return n(e.uuid)},title:"delete",className:"todo-list__trashbin",children:Object(_.jsx)("img",{alt:"delete",src:O})});return Object(_.jsxs)("li",{children:[m,Object(_.jsx)("span",{onClick:function(){u(!0),b(e.name)},className:"todo-list__text",children:s?h:Object(_.jsx)("p",{children:e.name})}),Object(_.jsx)("p",{className:"todo-list__date",children:e.updatedAt.replace(/[A-Z]|(\.\d{3})/g," ")}),v]},e.key)};var w=function(t){var e=t.todos,n=t.removeTodo,o=t.changeTodoCondition,c=t.changeTask;return 0===e.length?Object(_.jsx)("h1",{style:{marginTop:"2vw"},children:"Nothing..."}):Object(_.jsx)("ul",{className:"todo-list",children:e.map((function(t,e){return Object(_.jsx)(v,{todo:t,removeTodo:n,changeTodoCondition:o,changeTask:c},e)}))})},k=n(34).default,T="3";var N=function(){var t=Object(o.useState)(!1),e=Object(d.a)(t,2),n=e[0],c=e[1],a=Object(o.useState)(!1),r=Object(d.a)(a,2),s=r[0],j=r[1],b=Object(o.useState)([]),p=Object(d.a)(b,2),g=p[0],O=p[1],x=Object(o.useState)([]),v=Object(d.a)(x,2),N=v[0],y=v[1],S=Object(o.useState)(0),C=Object(d.a)(S,2),E=C[0],F=C[1],P=Object(o.useState)(5),D=Object(d.a)(P,1)[0],B="https://todo-api-learning.herokuapp.com/v1";Object(o.useEffect)((function(){var t=function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),console.log("".concat(B,"/tasks/").concat(T)),console.log(T),t.next=5,k.get("".concat(B,"/tasks/").concat(T)).then((function(t){O(t.data),y(t.data),c(!1)})).catch((function(t){A(t.message)}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var A=function(t){j(t),setTimeout((function(){return j(!1)}),5e3)},L=function(){var t=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O(e),y(n);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),I=function(t,e,n){"isDone"===e&&(t.done=n),"name"===e&&(t.name=n)},J=function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.patch("".concat(B,"/task/").concat(T,"/").concat(e.uuid),e).catch((function(t){A(t.message)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.delete("".concat(B,"/task/").concat(T,"/").concat(e)).catch((function(t){A(t.message)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=Object(l.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.post("".concat(B,"/task/").concat(T),e).then((function(t){e.uuid=t.data.uuid})).catch((function(t){A(t.message)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(l.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"all"===n&&(n=""),t.next=3,k.get("".concat(B,"/tasks/").concat(T,"?filterBy=").concat(n,"&order=").concat(e)).then((function(t){y(t.data)})).catch((function(t){A(t.message)}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),M=!1!==s&&Object(_.jsx)("div",{className:"alert-about-error",children:Object(_.jsx)("p",{children:s})}),R=Object(_.jsxs)("div",{className:"animated-loader",children:[Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{}),Object(_.jsx)("div",{})]});return Object(_.jsxs)("div",{className:"conteiner",children:[M,Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"todo",children:[Object(_.jsx)("h1",{children:"ToDo"}),Object(_.jsx)(f,{newElemSetter:function(t){return function(t){H(t),L([].concat(Object(i.a)(g),[t]),[].concat(Object(i.a)(N),[t]))}(t)},nonExistYet:function(t){return function(t){return g.every((function(e){return e.name!==t}))}(t)}})]}),Object(_.jsx)(h,{todosFilter:function(t){return function(t){y("all"===t?g:g.filter((function(e){return e.done===t}))),F(0)}(t)},setSortStatus:function(t,e){return K(t,e)}})]}),n?R:Object(_.jsx)(w,{todos:N.slice(E*D,E*D+D),removeTodo:function(t){return e=t,L(g.filter((function(t){return t.uuid!==e})),N.filter((function(t){return t.uuid!==e}))),void Y(e);var e},changeTodoCondition:function(t){return function(t){I(t,"isDone",!t.done),g[g.indexOf(t)]=t,N[g.indexOf(t)]=t,L(g.slice(0),N.slice(0)),J(t)}(t)},changeTask:function(t,e){return function(t,e){I(t,"name",e.slice(0)),g[g.indexOf(t)]=t,N[N.indexOf(t)]=t,L(g.slice(0),N.slice(0)),J(t)}(t,e)}}),N.length>0&&Object(_.jsx)(m,{setCurrentPage:function(t){return F(t)},currentPage:E,countTodoElem:N.length,countElemPerPage:D})]})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),o(t),c(t),a(t),r(t)}))};r.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(N,{})}),document.getElementById("root")),y()}},[[53,1,2]]]);
//# sourceMappingURL=main.381e21ba.chunk.js.map
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{117:function(t,e,n){},118:function(t,e,n){},119:function(t,e,n){t.exports={input:"Input_input__2mABs",todo__text:"Input_todo__text__2VKhO"}},122:function(t,e,n){t.exports={"filter__arrow-active":"filter_filter__arrow-active__1CJ4a","filter__arrow-down":"filter_filter__arrow-down__2AjvG",filter__button:"filter_filter__button__1m8_4","filter__button-active":"filter_filter__button-active__2x_pW","sortBy-text":"filter_sortBy-text__3blXO","filter__arrow-up":"filter_filter__arrow-up__15XdD",filter:"filter_filter__1Rtgh","filter-sort":"filter_filter-sort__14E_z"}},123:function(t,e,n){t.exports={"todo-list":"TodoList_todo-list__4vVRj"}},124:function(t,e,n){t.exports={"todo-list__input":"TodoElement_todo-list__input__8vt4n","ant-checkbox-inner":"TodoElement_ant-checkbox-inner__2Xy1P","ant-checkbox-checked":"TodoElement_ant-checkbox-checked__1iXQu","todo-list__input-error":"TodoElement_todo-list__input-error__34YHg","todo-list__button":"TodoElement_todo-list__button__1ew_7","todo-list__text":"TodoElement_todo-list__text__3dL6a","todo-list__date":"TodoElement_todo-list__date__1ioTQ","todo-list__trashbin":"TodoElement_todo-list__trashbin__1vll4"}},212:function(t,e,n){"use strict";n.r(e);var o=n(0),c=n.n(o),a=n(26),i=n.n(a),r=(n(117),n(109)),s=n(21),u=(n(118),n(119),n(47),n(215)),l=n(6);var d=function(t){var e=t.newElemSetter,n=t.nonExistYet,c=Object(o.useState)(""),a=Object(s.a)(c,2),i=a[0],r=a[1],d=new Date,_=function(t){r(t.replace(/[\u0410-\u042f\u0430-\u044f]/g,""))};return Object(l.jsx)("div",{className:"input",children:Object(l.jsx)(u.a,{onKeyDown:function(t){if(" "!==i[0]&&""!==i&&i.length>2&&n(i)&&"Enter"===t.key){var o={key:d.getTime(),name:i,done:!1,updatedAt:"".concat(d.getFullYear(),"-").concat(d.getMonth()+1,"-").concat(d.getDay()+24," ").concat(d.getHours()-3,":").concat(d.getMinutes(),":").concat(d.getSeconds())};r(""),e(o)}},value:i,onChange:function(t){_(t.target.value)},placeholder:"Type task",autoFocus:!0,maxLength:"16",className:"todo__text"})})},_=(n(122),n(216)),j=n(107),f=n(111),b=n(219);var h=function(t){var e=t.setSortStatus,n=Object(o.useState)(""),c=Object(s.a)(n,2),a=c[0],i=c[1],r=Object(o.useState)("asc"),u=Object(s.a)(r,2),d=u[0],h=u[1];return Object(o.useEffect)((function(){e(a,d)}),[a,d]),Object(l.jsxs)("span",{className:"filter",children:[Object(l.jsx)(_.a.Group,{size:"large",options:[{label:"all",value:""},{label:"done",value:"done"},{label:"undone",value:"undone"}],onChange:function(t){console.log(t.target.value),i(t.target.value)},value:a,optionType:"button",buttonStyle:"solid"}),Object(l.jsxs)("span",{className:"filter-sort",children:[Object(l.jsx)("p",{className:"sortBy-text",children:"Sort by Date"}),Object(l.jsx)(j.a,{onClick:function(){h("desc")},icon:Object(l.jsx)(f.a,{})}),Object(l.jsx)(j.a,{onClick:function(){h("asc")},icon:Object(l.jsx)(b.a,{})})]})]})},O=(n(123),n(124),n(218)),x=n(220);var g=function(t){var e=t.todo,n=t.removeTodo,c=t.changeTodoCondition,a=t.changeTask,i=Object(o.useState)(!1),r=Object(s.a)(i,2),u=r[0],d=r[1],_=Object(o.useState)(""),f=Object(s.a)(_,2),b=f[0],h=f[1],g=function(t){h(t.replace(/[\u0410-\u042f\u0430-\u044f]/g,""))},p=Object(l.jsx)("input",{onBlur:function(){d(!1)},autoFocus:!0,maxLength:"16",defaultValue:e.name,onKeyDown:function(t){" "!==b[0]&&""!==b&&b.length>2&&("Enter"===t.key&&(a(e,b),d(!1)),"Escape"===t.key&&d(!1))},onChange:function(t){g(t.target.value)},value:b,className:"todo-list__input"});return Object(l.jsxs)("li",{children:[Object(l.jsx)(O.a,{onClick:function(){return c(e)},checked:e.done}),Object(l.jsx)("span",{onClick:function(){d(!0),h(e.name)},className:"todo-list__text",children:u?p:Object(l.jsx)("p",{style:e.done?{textDecoration:"line-through"}:{},children:e.name})}),Object(l.jsx)("p",{className:"todo-list__date",children:e.updatedAt.replace(/[A-Z]|(\.\d{3})/g," ")}),Object(l.jsx)(j.a,{size:"large",danger:!0,onClick:function(){return n(e)},icon:Object(l.jsx)(x.a,{})})]},e.key)};var p=function(t){var e=t.todos,n=t.removeTodo,o=t.changeTodoCondition,c=t.changeTask;return 0===e.length?Object(l.jsx)("h1",{style:{marginTop:"2vw"},children:"Nothing..."}):Object(l.jsx)("ul",{className:"todo-list",children:e.map((function(t,e){return Object(l.jsx)(g,{todo:t,removeTodo:n,changeTodoCondition:o,changeTask:c},e)}))})},m=n(214),v=n(125).default,k="3",T="https://todo-api-learning.herokuapp.com/v1";var y=function(){var t=Object(o.useState)(!1),e=Object(s.a)(t,2),n=e[0],c=e[1],a=Object(o.useState)(!1),i=Object(s.a)(a,2),u=i[0],_=i[1],j=Object(o.useState)([]),f=Object(s.a)(j,2),b=f[0],O=f[1],x=Object(o.useState)(1),g=Object(s.a)(x,2),y=g[0],S=g[1],E=Object(o.useState)(5),w=Object(s.a)(E,1)[0];Object(o.useEffect)((function(){C("","asc")}),[]),Object(o.useEffect)((function(){N(u),setTimeout((function(){return _(!1)}),5e3)}),[u]),Object(o.useEffect)((function(){Math.ceil(b.length/w)<y&&y>1&&S((function(t){return t-1}))}),[b.length]);var C=function(t,e){var n,o;c(!0),v.get("".concat(T,"/tasks/").concat(k,"?").concat((n=t,o=e,new URLSearchParams({filterBy:n,order:o}).toString()))).then((function(t){O(t.data)})).catch((function(t){_(t.message)})).finally(c(!1))},N=function(){_(u)},D=function(t,e,n){"done"===e&&(t.done=n),"name"===e&&(t.name=n)},B=function(t){c(!0),v.patch("".concat(T,"/task/").concat(k,"/").concat(t.uuid),t).catch((function(t){_(t.message)})).finally((function(){c(!1)}))},F=function(t){v.delete("".concat(T,"/task/").concat(k,"/").concat(t.uuid)).catch((function(t){_(t.message)}))},L=function(t){var e;e=t,v.post("".concat(T,"/task/").concat(k),e).then((function(t){Object.keys(t.data).includes("uuid")?e.uuid=t.data.uuid:_("Object without uuid")})).catch((function(t){_(t.message)})),O([].concat(Object(r.a)(b),[t]))},z=!1!==u&&Object(l.jsx)("div",{className:"alert-about-error",children:Object(l.jsx)("p",{children:u})}),A=Object(l.jsxs)("div",{className:"animated-loader",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]});return Object(l.jsxs)("div",{className:"conteiner",children:[z,Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"todo",children:[Object(l.jsx)("h1",{children:"ToDo"}),Object(l.jsx)(d,{newElemSetter:function(t){return L(t)},nonExistYet:function(t){return function(t){return b.every((function(e){return e.name!==t}))}(t)}})]}),Object(l.jsx)(h,{setSortStatus:function(t,e){return function(t,e){C(t,e),S(1)}(t,e)}})]}),n?A:Object(l.jsx)(p,{todos:b.slice((y-1)*w,y*w),removeTodo:function(t){return F(e=t),void O(b.filter((function(t){return t!==e})));var e},changeTodoCondition:function(t){return function(t){D(t,"done",!t.done),b[b.indexOf(t)]=t,O(b.slice(0)),B(t)}(t)},changeTask:function(t,e){return function(t,e){D(t,"name",e.slice(0)),b[b.indexOf(t)]=t,O(b.slice(0)),B(t)}(t,e)}}),Object(l.jsx)(m.a,{size:"default",className:"ant-pagination paginate",current:y,total:b.length,hideOnSinglePage:!0,pageSize:w,onChange:function(t,e){return function(t,e){S(t)}(t)}})]})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,221)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),o(t),c(t),a(t),i(t)}))};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),S()}},[[212,1,2]]]);
//# sourceMappingURL=main.c37fabfe.chunk.js.map